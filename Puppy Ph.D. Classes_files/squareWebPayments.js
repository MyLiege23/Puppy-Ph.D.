(function(e){var n={};function r(t){if(n[t]){return n[t].exports}var o=n[t]={i:t,l:false,exports:{}};e[t].call(o.exports,o,o.exports,r);o.l=true;return o.exports}r.m=e;r.c=n;r.d=function(e,n,t){if(!r.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:t})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(e,n){if(n&1)e=r(e);if(n&8)return e;if(n&4&&typeof e==="object"&&e&&e.__esModule)return e;var t=Object.create(null);r.r(t);Object.defineProperty(t,"default",{enumerable:true,value:e});if(n&2&&typeof e!="string")for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t};r.n=function(e){var n=e&&e.__esModule?function n(){return e["default"]}:function n(){return e};r.d(n,"a",n);return n};r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)};r.p="/";return r(r.s=0)})([function(e,n,r){r(1);r(5);r(10);r(12);r(21);e.exports=r(23)},function(e,n,r){var t=r(2);var o=r(3);var i=o;if(typeof i["SquareWebPayments"]==="undefined")i["SquareWebPayments"]=t;e.exports=t},function(e,n,r){"use strict";r.r(n);r.d(n,"useSquareWebPaymentsSdk",(function(){return d}));r.d(n,"isUsingSquareWebPayments",(function(){return v}));r.d(n,"init",(function(){return p}));r.d(n,"tokenizeCard",(function(){return y}));r.d(n,"tokenizeAndVerify",(function(){return h}));r.d(n,"tokenize",(function(){return b}));r.d(n,"verifyCard",(function(){return w}));var t=undefined&&undefined.__awaiter||function(e,n,r,t){function o(e){return e instanceof r?e:new r((function(n){n(e)}))}return new(r||(r=Promise))((function(r,i){function u(e){try{c(t.next(e))}catch(e){i(e)}}function a(e){try{c(t["throw"](e))}catch(e){i(e)}}function c(e){e.done?r(e.value):o(e.value).then(u,a)}c((t=t.apply(e,n||[])).next())}))};var o=undefined&&undefined.__generator||function(e,n){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(e){return function(n){return c([e,n])}}function c(u){if(t)throw new TypeError("Generator is already executing.");while(r)try{if(t=1,o&&(i=u[0]&2?o["return"]:u[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;if(o=0,i)u=[u[0]&2,i.value];switch(u[0]){case 0:case 1:i=u;break;case 4:r.label++;return{value:u[1],done:false};case 5:r.label++;o=u[1];u=[0];continue;case 7:u=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1];i=u;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(u);break}if(i[2])r.ops.pop();r.trys.pop();continue}u=n.call(e,r)}catch(e){u=[6,e];o=0}finally{t=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var i=new Map([["production","https://web.squarecdn.com/v1/square.js"],["sandbox","https://sandbox.web.squarecdn.com/v1/square.js"]]);var u=false;var a=function(e,n){return t(void 0,void 0,void 0,(function(){var r,t;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,3,,4]);return[4,e.card()];case 1:r=o.sent();return[4,r.attach(n)];case 2:o.sent();return[2,r];case 3:t=o.sent();console.error({message:"Error initializing card",error:t});throw t;case 4:return[2]}}))}))};var c=function(e){return t(void 0,void 0,void 0,(function(){var n,r,t,i;var u;return o(this,(function(o){switch(o.label){case 0:if(!window.Square){throw new Error("Square Web Payments ailed to load properly")}n=l(),r=n.squareApplicationId,t=n.squareLocationId;if(typeof r!=="string"||typeof t!=="string"){throw new Error("Invalid squareApplicationId or squareLocationId")}i=window.Square.payments(r,t);u={};return[4,a(i,e)];case 1:return[2,(u.paymentMethod=o.sent(),u.payments=i,u)]}}))}))};var s=function(e){return e.tagName.toLowerCase()==="input"};var f=function(e){var n=document.getElementById(e);if(!n||!s(n)){return null}return n.value.length>0?n.value:null};var l=function(){var e,n,r;return{squareWebPaymentsSdkVersion:(e=f("squareWebPaymentsSdkVersion"))!==null&&e!==void 0?e:window.squareWebPaymentsSdkVersion,squareLocationId:(n=f("squareLocationId"))!==null&&n!==void 0?n:window.squareLocationId,squareApplicationId:(r=f("squareApplicationId"))!==null&&r!==void 0?r:window.squareApplicationId}};var d=function(){var e=l(),n=e.squareLocationId,r=e.squareApplicationId,t=e.squareWebPaymentsSdkVersion;return Boolean(typeof n==="string"&&typeof r==="string"&&typeof t==="string"&&i.has(t))};var v=function(){return u};var p=function(e){return t(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,new Promise((function(n,r){try{if(!d()){return r(null)}var a=l().squareWebPaymentsSdkVersion;var s=i.get(String(a));if(typeof s==="undefined"){return r("Unable to determine which Square Web Payments SDK version to load")}$.getScript(s,(function(){return t(void 0,void 0,void 0,(function(){var r,t,i;return o(this,(function(o){switch(o.label){case 0:return[4,c(e)];case 1:r=o.sent(),t=r.paymentMethod,i=r.payments;u=true;return[2,n({paymentMethod:t,payments:i})]}}))}))}))}catch(e){r(e)}}))]}))}))};var y=function(e){return t(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,e.tokenize()];case 1:n=r.sent();if(n.status!=="OK"){throw new Error("Failed to tokenize card")}if(typeof n.token==="undefined"){throw new Error("Unable to retrieve token for card")}return[2,n.token]}}))}))};var h=function(e,n,r,i){return t(void 0,void 0,void 0,(function(){var t,u,a,c,s,f,l;var d,v,p,h;return o(this,(function(o){switch(o.label){case 0:t={storeVerificationToken:null,storeNonce:null,chargeVerificationToken:null,chargeNonce:null};if(!i)return[3,5];o.label=1;case 1:o.trys.push([1,4,,5]);u=t;return[4,y(n)];case 2:u.storeNonce=o.sent();a=t;return[4,e.verifyBuyer(t.storeNonce,i)];case 3:a.storeVerificationToken=(v=(d=o.sent())===null||d===void 0?void 0:d.token)!==null&&v!==void 0?v:null;return[3,5];case 4:c=o.sent();throw new Error(c.message);case 5:if(!r)return[3,10];o.label=6;case 6:o.trys.push([6,9,,10]);s=t;return[4,y(n)];case 7:s.chargeNonce=o.sent();f=t;return[4,e.verifyBuyer(t.chargeNonce,r)];case 8:f.chargeVerificationToken=(h=(p=o.sent())===null||p===void 0?void 0:p.token)!==null&&h!==void 0?h:null;return[3,10];case 9:l=o.sent();throw new Error(l.message);case 10:return[2,t]}}))}))};var b=function(e){return t(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(t){switch(t.label){case 0:return[4,y(e)];case 1:n=t.sent();return[4,y(e)];case 2:r=t.sent();return[2,{chargeNonce:r,storeNonce:n}]}}))}))};var w=function(e,n,r){return t(void 0,void 0,void 0,(function(){var t;return o(this,(function(o){switch(o.label){case 0:return[4,e.verifyBuyer(n,r)];case 1:return[2,(t=o.sent())===null||t===void 0?void 0:t.token]}}))}))}},function(e,n,r){"use strict";(function(n){e.exports=function(){if(typeof globalThis==="object"){return globalThis}var e;try{e=this||new Function("return this")()}catch(e){if(typeof window==="object"){return window}if(typeof self==="object"){return self}if(typeof n!=="undefined"){return n}}return e}()}).call(this,r(4))},function(e,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,n){},,,,,function(e,n){},,function(e,n){},,,,,,,,,function(e,n){},,function(e,n){}]);